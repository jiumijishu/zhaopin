(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44c8e10a"],{"0c41":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-container",[n("el-aside",{staticStyle:{overflow:"hidden","background-color":"#FFFFFF"},attrs:{width:"30%"}},[n("el-row",{staticClass:"mb8",attrs:{gutter:10}},[n("el-col",{attrs:{span:1.5}},[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:jobcategory:add"],expression:"['baseconfig:jobcategory:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加分类")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",attrs:{"highlight-current-row":"",border:"",data:e.jobcategoryList},on:{"current-change":e.handleCurrentChange}},[n("el-table-column",{attrs:{label:"ID",align:"center",prop:"categoryId"}}),n("el-table-column",{attrs:{label:"分类名称",align:"center",prop:"categoryName"}}),n("el-table-column",{attrs:{label:"排序",align:"center",prop:"sortNo"}}),n("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:jobcategory:edit"],expression:"['baseconfig:jobcategory:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleUpdate(t.row)}}},[e._v("修改")]),n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:jobcategory:remove"],expression:"['baseconfig:jobcategory:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),n("el-main",[n("el-row",{staticClass:"mb8",attrs:{gutter:10}},[n("el-col",{staticStyle:{float:"right"},attrs:{span:1.5}},[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:jobtype:add"],expression:"['baseconfig:jobtype:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleTypeAdd}},[e._v("添加职位类型")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.jobLoading,expression:"jobLoading"}],ref:"jobTypeTable",attrs:{border:"",data:e.jobtypeList}},[n("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),n("el-table-column",{attrs:{label:"分类名称",align:"center",prop:"categoryName"}}),n("el-table-column",{attrs:{label:"职位类型",align:"center",prop:"typeName"}}),n("el-table-column",{attrs:{label:"职位简述",align:"center",prop:"introduction","show-tooltip-when-overflow":""}}),n("el-table-column",{attrs:{label:"职位标签",align:"center",prop:"lables"}}),n("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:jobtype:edit"],expression:"['baseconfig:jobtype:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleTypeUpdate(t.row)}}},[e._v("修改")]),n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:jobtype:remove"],expression:"['baseconfig:jobtype:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.handleTypeDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),n("el-dialog",{attrs:{title:e.title,visible:e.open,width:"650px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"分类名称",prop:"categoryName"}},[n("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.form.categoryName,callback:function(t){e.$set(e.form,"categoryName",t)},expression:"form.categoryName"}})],1),n("el-form-item",{attrs:{label:"序号",prop:"sortNo"}},[n("el-input-number",{attrs:{min:0,placeholder:"请输入序号","controls-position":"right"},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),n("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),n("el-dialog",{attrs:{title:e.typeTitle,visible:e.typeOpen,width:"650px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.typeOpen=t}}},[n("el-form",{ref:"typeForm",attrs:{model:e.typeForm,rules:e.typeRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"职位分类",prop:"categoryName"}},[n("el-input",{attrs:{placeholder:"请输入职位分类",disabled:""},model:{value:e.typeForm.categoryName,callback:function(t){e.$set(e.typeForm,"categoryName",t)},expression:"typeForm.categoryName"}})],1),n("el-form-item",{attrs:{label:"职位类型",prop:"typeName"}},[n("el-input",{attrs:{placeholder:"请输入职位类型"},model:{value:e.typeForm.typeName,callback:function(t){e.$set(e.typeForm,"typeName",t)},expression:"typeForm.typeName"}})],1),n("el-form-item",{attrs:{label:"职位简述",prop:"introduction"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.typeForm.introduction,callback:function(t){e.$set(e.typeForm,"introduction",t)},expression:"typeForm.introduction"}})],1),n("el-form-item",{attrs:{label:"职位标签",prop:"lables"}},[e._l(e.dynamicTags,(function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 添加标签")])],2),n("el-form-item",{attrs:{label:"职位介绍"}},[n("editor",{attrs:{"min-height":192},model:{value:e.typeForm.details,callback:function(t){e.$set(e.typeForm,"details",t)},expression:"typeForm.details"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.typeSubmitForm}},[e._v("确 定")]),n("el-button",{on:{click:e.typeCancel}},[e._v("取 消")])],1)],1)],1)},a=[],i=n("5530"),r=(n("d81d"),n("a15b"),n("a434"),n("14d9"),n("b775"));function l(e){return Object(r["a"])({url:"/baseconfig/jobcategory/list",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/baseconfig/jobcategory/"+e,method:"get"})}function c(e){return Object(r["a"])({url:"/baseconfig/jobcategory",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/baseconfig/jobcategory",method:"put",data:e})}function p(e){return Object(r["a"])({url:"/baseconfig/jobcategory/"+e,method:"delete"})}var d=n("29b4"),m={name:"Jobcategory",data:function(){return{loading:!1,jobLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,currentRow:{},total:0,jobcategoryList:[],jobtypeList:[],title:"",typeTitle:"",open:!1,typeOpen:!1,queryParams:{pageNum:1,pageSize:10,categoryName:null},form:{},typeForm:{},typeRules:{},rules:{categoryName:[{required:!0,message:"类型名称不能为空",trigger:"blur"}]},dynamicTags:[],inputVisible:!1,inputValue:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.jobcategoryList=t.data,e.jobtypeList=[],e.currentRow=e.jobcategoryList[0],e.$refs.singleTable.setCurrentRow(e.currentRow),e.getJobTypeList(),e.total=t.total,e.loading=!1}))},getJobTypeList:function(){var e=this;this.jobLoading=!0;var t={categoryId:this.currentRow?this.currentRow.categoryId:-1};Object(d["d"])(t).then((function(t){e.jobtypeList=t.data,e.jobLoading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={categoryId:null,categoryName:null,createTime:null,createBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.categoryId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位类型"},handleUpdate:function(e){var t=this;this.reset();var n=e.categoryId||this.ids;s(n).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.categoryId?u(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):c(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,n=e.categoryId||this.ids;this.$modal.confirm('是否确认删除岗位类型编号为"'+n+'"的数据项？').then((function(){return p(n)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("baseconfig/jobcategory/export",Object(i["a"])({},this.queryParams),"jobcategory_".concat((new Date).getTime(),".xlsx"))},handleCurrentChange:function(e){this.currentRow=e,this.getJobTypeList()},handleTypeAdd:function(){if(!this.currentRow.categoryId)return this.$modal.msgError("请选择职位分类"),!1;this.typeReset(),this.typeOpen=!0,this.typeTitle="添加职位类型",this.typeForm.categoryId=this.currentRow.categoryId,this.typeForm.categoryName=this.currentRow.categoryName},typeReset:function(){this.typeForm={id:null,categoryId:null,categoryName:null,typeName:null,introduction:null,lables:null,details:null,createTime:null,createBy:null},this.dynamicTags=[],this.resetForm("typeForm")},handleTypeUpdate:function(e){var t=this;this.typeReset();var n=e.id||this.ids;Object(d["c"])(n).then((function(e){t.typeForm=e.data,t.typeOpen=!0,t.typeTitle="修改职位分类",t.dynamicTags=t.typeForm.lables?t.typeForm.lables.split(","):[]}))},typeSubmitForm:function(){var e=this;this.$refs["typeForm"].validate((function(t){t&&(e.typeForm.lables=e.dynamicTags.join(","),null!=e.typeForm.id?Object(d["e"])(e.typeForm).then((function(t){e.$modal.msgSuccess("修改成功"),e.typeOpen=!1,e.getJobTypeList()})):Object(d["a"])(e.typeForm).then((function(t){e.$modal.msgSuccess("新增成功"),e.typeOpen=!1,e.getJobTypeList()})))}))},handleTypeDelete:function(e){var t=this,n=e.id||this.ids;this.$modal.confirm('是否确认删除职位分类编号为"'+n+'"的数据项？').then((function(){return Object(d["b"])(n)})).then((function(){t.getJobTypeList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},typeCancel:function(){this.typeOpen=!1,this.typeReset()},handleClose:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""}}},b=m,y=(n("e1b5"),n("2877")),f=Object(y["a"])(b,o,a,!1,null,null,null);t["default"]=f.exports},"29b4":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return s}));var o=n("b775");function a(e){return Object(o["a"])({url:"/baseconfig/jobtype/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/baseconfig/jobtype/"+e,method:"get"})}function r(e){return Object(o["a"])({url:"/baseconfig/jobtype",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/baseconfig/jobtype",method:"put",data:e})}function s(e){return Object(o["a"])({url:"/baseconfig/jobtype/"+e,method:"delete"})}},"567c":function(e,t,n){},e1b5:function(e,t,n){"use strict";n("567c")}}]);